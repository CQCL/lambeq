<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Glossary" href="glossary.html" /><link rel="prev" title="Class diagrams" href="uml-diagrams.html" />

    <link rel="shortcut icon" href="_static/quantinuum_favicon.svg"/><!-- Generated with Sphinx 6.1.3 and Furo 2024.07.18 -->
        <title>Command-line interface - lambeq 0.4.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=cf7d2580863ab3a5f2abbe6c31b65acd4d87b848" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=cf727022eb7470bc603c08d2e55c3247faec75c9" />
    <link rel="stylesheet" type="text/css" href="_static/css/table-wrap.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style>
<link rel="stylesheet" href="_static/tokens.css"/>
<link rel="stylesheet" href="_static/styles.css"/>
<link rel="stylesheet" href="_static/tailwind.css"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="preload"
as="style">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
<style>  
  .sidebar-sticky {
    top: calc(3.5rem - 0px);
    height: calc(100vh - 3.5rem);
  }
  
  @media (min-width: 97em) {
    html {
      font-size: 100% !important;
    }
  }
  
</style>
</head>
  <body>
    <script>document.body.setAttribute("data-theme", "light")</script>

    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<nav style="position:fixed;top:0;z-index:1021;width:100%;">
    <div class="nexus-nav"></div>
</nav>
<script type="text/javascript" src="_static/nav-config.js" ></script>
<script>

  const prefix = "./"
  const isExternalURL = (string) => {
    try {
      return new URL(string).origin !== location.origin;
    } catch (err) {
      console.error(err)
      return false;  
    }
  }
  //

  const resolveLink = (string) => {
    if (isExternalURL(string)) return string
    if (string.startsWith("/")) {
      string = string.slice(1)
    }
    if (prefix === "#") {
      return string;
    }
    return prefix + string;
  
  }
  const navTextLinks = navConfig.navTextLinks.map(x => ({
    ...x,
    href: resolveLink(x.href),
  }));
   const navProductName = navConfig.navProductName;
  const navIconLinks = navConfig.navIconLinks.map(x => {
    return {...x,
    href: resolveLink(x.href),
    iconImageURL: resolveLink(x.iconImageURL),
  }}
  
  );

</script>
<script type="text/javascript" src="_static/index.global.js"></script>



<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">lambeq 0.4.2 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/lambeq_logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">lambeq 0.4.2 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipeline.html">Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="parsing.html">Syntactic parsing</a></li>
<li class="toctree-l1"><a class="reference internal" href="string-diagrams.html">String diagrams</a></li>
<li class="toctree-l1"><a class="reference internal" href="use-cases.html">lambeq use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html">Contributing to lambeq</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">NLP-101</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="nlp-intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="nlp-data.html">Working with text data</a></li>
<li class="toctree-l1"><a class="reference internal" href="nlp-class.html">Text classification</a></li>
<li class="toctree-l1"><a class="reference internal" href="nlp-ml.html">Machine learning best practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="nlp-refs.html">References for further study</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorials/sentence-input.html">Step 1. Sentence input</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/rewrite.html">Step 2. Diagram rewriting</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/parameterise.html">Step 3. Parameterisation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="training.html">Step 4: Training</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Step 4: Training</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/trainer-classical.html">Training: Classical case</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/trainer-quantum.html">Training: Quantum case</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/trainer-hybrid.html">Training: Hybrid case</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Choosing a model</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="manual-training.html">Advanced: Manual training</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Advanced: Manual training</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/training-symbols.html">Introduction to symbols</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/training-usecase.html">A complete use case</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="advanced.html">Advanced: low-level lambeq</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Advanced: low-level lambeq</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/monoidal.html">Monoidal categories in lambeq</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/discocat.html">DisCoCat in lambeq</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/extend-lambeq.html">Advanced: Extending lambeq</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="notebooks.html">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="examples/tokenisation.html">Tokenisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/unk-words.html">Handling unknown words</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/parser.html">Parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/reader.html">Reader</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/tree-reader.html">Tree reader</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/rewrite.html">Rewrite</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/circuit.html">Circuit</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/tensor.html">Tensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/rotosolve-optimizer.html">Rotosolve optimizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/classical-pipeline.html">Classical pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/quantum-pipeline.html">Quantum pipeline using the Quantum Trainer</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/quantum-pipeline-jax.html">Quantum pipeline using JAX backend</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/pennylane.html">Training hybrid models using the Pennylane backend</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Toolkit</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="root-api.html">lambeq package</a></li>
<li class="toctree-l1"><a class="reference internal" href="package-api.html">Subpackages</a></li>
<li class="toctree-l1"><a class="reference internal" href="uml-diagrams.html">Class diagrams</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Command-line interface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes.html">Release notes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">External links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://qnlp.cambridgequantum.com/downloads.html">Resources</a></li>
<li class="toctree-l1"><a class="reference external" href="https://qnlp.cambridgequantum.com/generate.html">Web demo</a></li>
<li class="toctree-l1"><a class="reference external" href="https://discopy.readthedocs.io">DisCoPy</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/cli.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="command-line-interface">
<span id="sec-cli"></span><h1>Command-line interface<a class="headerlink" href="#command-line-interface" title="Permalink to this heading">¶</a></h1>
<p>While <code class="docutils literal notranslate"><span class="pre">lambeq</span></code> is primarily aimed for programmatic use, since Release <a class="reference internal" href="release-notes.html#rel-0-2-0"><span class="std std-ref">0.2.0</span></a> it is also equipped with a command-line interface that provides immediate and easy access to most of the toolkit’s functionality. For example, this addition allows <code class="docutils literal notranslate"><span class="pre">lambeq</span></code> to be used as a dual <a class="reference internal" href="glossary.html#term-parser"><span class="xref std std-term">parser</span></a>, capable of providing syntactic derivations in both <a class="reference internal" href="glossary.html#term-pregroup-grammar"><span class="xref std std-term">pregroup</span></a> and <a class="reference internal" href="glossary.html#term-Combinatory-Categorial-Grammar-CCG"><span class="xref std std-term">CCG</span></a> form.</p>
<p>A summary of the available options is given below.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lambeq<span class="w"> </span><span class="o">[</span>-h<span class="o">]</span><span class="w"> </span><span class="o">[</span>-v<span class="o">]</span><span class="w"> </span><span class="o">[</span>-m<span class="w"> </span><span class="o">{</span>string-diagram,pregroups,ccg<span class="o">}]</span><span class="w"> </span><span class="o">[</span>-i<span class="w"> </span>INPUT_FILE<span class="o">]</span>
<span class="w">       </span><span class="o">[</span>-f<span class="w"> </span><span class="o">{</span>json,pickle,text-unicode,text-ascii,image<span class="o">}]</span>
<span class="w">       </span><span class="o">[</span>-g<span class="w"> </span><span class="o">{</span>png,pdf,jpeg,jpg,eps,pgf,ps,raw,rgba,svg,svgz,tif,tiff<span class="o">}]</span>
<span class="w">       </span><span class="o">[</span>-u<span class="w"> </span><span class="o">[</span><span class="nv">KEY</span><span class="o">=</span>VAR<span class="w"> </span>...<span class="o">]]</span><span class="w"> </span><span class="o">[</span>-o<span class="w"> </span>OUTPUT_FILE<span class="w"> </span><span class="p">|</span><span class="w"> </span>-d<span class="w"> </span>OUTPUT_DIR<span class="o">]</span>
<span class="w">       </span><span class="o">[</span>-p<span class="w"> </span><span class="o">{</span>bobcat,depccg<span class="o">}]</span><span class="w"> </span><span class="o">[</span>-t<span class="o">]</span><span class="w"> </span><span class="o">[</span>-s<span class="o">]</span><span class="w"> </span><span class="o">[</span>-r<span class="w"> </span><span class="o">{</span>spiders,stairs,cups,tree<span class="o">}]</span>
<span class="w">       </span><span class="o">[</span>-c<span class="w"> </span><span class="o">[</span>ROOT_CAT<span class="w"> </span>...<span class="o">]]</span><span class="w"> </span><span class="o">[</span>-w<span class="w"> </span><span class="o">[</span>REWRITE_RULE<span class="w"> </span>...<span class="o">]]</span>
<span class="w">       </span><span class="o">[</span>-a<span class="w"> </span><span class="o">{</span>iqp,tensor,spider,mps<span class="o">}]</span><span class="w"> </span><span class="o">[</span>-n<span class="w"> </span><span class="o">[</span><span class="nv">KEY</span><span class="o">=</span>VAR<span class="w"> </span>...<span class="o">]]</span><span class="w"> </span><span class="o">[</span>-y<span class="w"> </span>STORE_ARGS<span class="o">]</span>
<span class="w">       </span><span class="o">[</span>-l<span class="w"> </span>LOAD_ARGS<span class="o">]</span>
<span class="w">       </span><span class="o">[</span>input_sentence<span class="o">]</span>
</pre></div>
</div>
<p>To get detailed help about the available options, type:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>lambeq<span class="w"> </span>--help
</pre></div>
</div>
<p>The following sections provide an introduction to the command-line interface usage via specific examples, while all available options are described in depth in Section <a class="reference internal" href="#sec-detailed-options"><span class="std std-ref">Detailed Options</span></a>.</p>
<section id="basic-usage">
<span id="sec-basic-usage"></span><h2>Basic usage<a class="headerlink" href="#basic-usage" title="Permalink to this heading">¶</a></h2>
<p>The most straightforward use of the command-line interface of <code class="docutils literal notranslate"><span class="pre">lambeq</span></code> is to use it as a <a class="reference internal" href="glossary.html#term-pregroup-grammar"><span class="xref std std-term">pregroup</span></a> or <a class="reference internal" href="glossary.html#term-Combinatory-Categorial-Grammar-CCG"><span class="xref std std-term">CCG</span></a> <a class="reference internal" href="glossary.html#term-parser"><span class="xref std std-term">parser</span></a>. The output formalism is controlled by the <code class="docutils literal notranslate"><span class="pre">--mode</span></code> option, which can be set to <code class="docutils literal notranslate"><span class="pre">string-diagram</span></code>, <code class="docutils literal notranslate"><span class="pre">pregroups</span></code>, or <code class="docutils literal notranslate"><span class="pre">ccg</span></code>.</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">string-diagram</span></code> mode is the default, producing a string diagram that faithfully follows the CCG derivation returned by the parser; this may include <a class="reference internal" href="glossary.html#term-swap"><span class="xref std std-term">swaps</span></a> introduced by certain CCG features such as cross-composition and “unary” type-changing rules.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">pregroups</span></code> mode removes any swaps from the string diagram by changing the ordering of the atomic types, converting it into a valid pregroup form as given in <a class="reference internal" href="bibliography.html#lam1999" id="id1"><span>[Lam1999]</span></a>. (The <code class="docutils literal notranslate"><span class="pre">pregroups</span></code> mode is further described later in Section <a class="reference internal" href="#sec-pregroups-mode"><span class="std std-ref">Strict Pregroups Mode</span></a>.)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ccg</span></code> mode returns the original CCG tree, instead of a string or pregroup diagram.</p></li>
</ul>
<p>For example, to get the default string diagram output for a sentence, use the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>lambeq<span class="w"> </span><span class="s2">&quot;John gave Mary a flower&quot;</span>

<span class="go">John       gave      Mary    a    flower</span>
<span class="go">────  ─────────────  ────  ─────  ──────</span>
<span class="go"> n    n.r·s·n.l·n.l   n    n·n.l    n</span>
<span class="go"> ╰─────╯  │  │   ╰────╯    │  ╰─────╯</span>
<span class="go">          │  ╰─────────────╯</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">lambeq</span></code> will use the default <a class="reference internal" href="root-api.html#lambeq.BobcatParser" title="lambeq.BobcatParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">BobcatParser</span></code></a> to parse the sentence and output the string diagram in the console with text drawing characters.</p>
<p>In order to get the corresponding CCG derivation, type:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>lambeq<span class="w"> </span>-m<span class="w"> </span>ccg<span class="w"> </span><span class="s2">&quot;John gave Mary a flower&quot;</span>

<span class="go">John     gave      Mary   a   flower</span>
<span class="go">════  ═══════════  ════  ═══  ══════</span>
<span class="go"> n    ((s\n)/n)/n   n    n/n    n</span>
<span class="go">      ────────────────&gt;  ──────────&gt;</span>
<span class="go">          (s\n)/n            n</span>
<span class="go">      ─────────────────────────────&gt;</span>
<span class="go">                  s\n</span>
<span class="go">───────────────────────────────────&lt;</span>
<span class="go">                  s</span>
</pre></div>
</div>
<p>Use the following command to read an entire file of sentences, tokenise them, parse them with the default parser, and store the pregroup or CCG diagrams in a new file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>lambeq<span class="w"> </span>-i<span class="w"> </span>sentences.txt<span class="w"> </span>-t<span class="w"> </span>-o<span class="w"> </span>diagrams.txt
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For the rest of this document, all examples use the default <code class="docutils literal notranslate"><span class="pre">string-diagram</span></code> mode.</p>
</div>
<p>In the above example, file <code class="docutils literal notranslate"><span class="pre">sentences.txt</span></code> is expected to contain one sentence per line. The output will be written to file <code class="docutils literal notranslate"><span class="pre">diagrams.txt</span></code>.
In case your input file does not contain one sentence per line, you can add the <code class="docutils literal notranslate"><span class="pre">--split_sentences</span></code> or <code class="docutils literal notranslate"><span class="pre">-s</span></code> flag.</p>
<p>If the text output is not good enough for your purposes, you can ask <code class="docutils literal notranslate"><span class="pre">lambeq</span></code> to prepare images for the diagrams in a variety of formats and store them in a specific folder for you:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>lambeq<span class="w"> </span>-i<span class="w"> </span>sentences.txt<span class="w"> </span>-t<span class="w"> </span>-d<span class="w"> </span>image_folder<span class="w"> </span>-f<span class="w"> </span>image<span class="w"> </span>-g<span class="w"> </span>png
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">lambeq</span></code> will prepare a <code class="docutils literal notranslate"><span class="pre">png</span></code> file for each one of the sentences, and store it in folder <code class="docutils literal notranslate"><span class="pre">image_folder</span></code> using the line number of the sentence in the input file to name the image file, e.g. <code class="docutils literal notranslate"><span class="pre">diagram_1.png</span></code>, <code class="docutils literal notranslate"><span class="pre">diagram_2.png</span></code> and so on.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Image generation is currently available only in <code class="docutils literal notranslate"><span class="pre">string-diagram</span></code> and <code class="docutils literal notranslate"><span class="pre">pregroups</span></code> modes.</p>
</div>
<p>It is also possible to parse a single sentence and store it as an image – for example, in PDF format in order to use it in a paper. In this case, you can name the file yourself and apply specific format options, such as the exact size of the figure or the font size used in the diagram. Note that it is not necessary to specify the image format if it is already contained in the file name (e.g. pdf).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>lambeq<span class="w"> </span>-f<span class="w"> </span>image<span class="w"> </span>-u<span class="w"> </span><span class="nv">fig_width</span><span class="o">=</span><span class="m">16</span><span class="w"> </span><span class="nv">fig_height</span><span class="o">=</span><span class="m">3</span><span class="w"> </span><span class="nv">fontsize</span><span class="o">=</span><span class="m">12</span>
<span class="go">&gt;        -o diagram.pdf</span>
<span class="go">&gt;        &quot;Mary does not like John&quot;</span>
</pre></div>
</div>
</section>
<section id="strict-pregroups-mode">
<span id="sec-pregroups-mode"></span><span id="sec-advanced-options"></span><h2>Strict pregroups mode<a class="headerlink" href="#strict-pregroups-mode" title="Permalink to this heading">¶</a></h2>
<p>We already discussed that <code class="docutils literal notranslate"><span class="pre">lambeq</span></code> can provide its outputs as string diagrams or CCG trees. There is also a third mode available (<code class="docutils literal notranslate"><span class="pre">pregroups</span></code>), which removes any swaps from the string diagram and converts it into a strict pregroup form, conforming to the definition of a formal <a class="reference internal" href="glossary.html#term-pregroup-grammar"><span class="xref std std-term">pregroup grammar</span></a>. Swaps can be introduced by cross-composition and unary rules in the original CCG derivation. For example, consider the following CCG tree:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>lambeq<span class="w"> </span>-t<span class="w"> </span>-m<span class="w"> </span>ccg<span class="w"> </span><span class="s2">&quot;The best movie I&#39;ve ever seen&quot;</span>

<span class="go">The  best  movie     I         &#39;ve         ever       seen</span>
<span class="go">═══  ════  ═════     ═     ═══════════  ═══════════  ═══════</span>
<span class="go">n/n  n/n     n       n     (s\n)/(s\n)  (s\n)\(s\n)  (s\n)/n</span>
<span class="go">     ──────────&gt;  ─────&gt;T  ─────────────────────&lt;Bx</span>
<span class="go">          n       s/(s\n)        (s\n)/(s\n)</span>
<span class="go">───────────────&gt;           ───────────────────────────────&gt;B</span>
<span class="go">        n                                (s\n)/n</span>
<span class="go">                  ────────────────────────────────────────&gt;B</span>
<span class="go">                                     s/n</span>
<span class="go">                  ───────────────────────────────────────&lt;U&gt;</span>
<span class="go">                                     n\n</span>
<span class="go">───────────────────────────────────────────────────────────&lt;</span>
<span class="go">                            n</span>
</pre></div>
</div>
<p>Note that “‘ve” and “ever” are combined using cross-composition (<code class="docutils literal notranslate"><span class="pre">Bx</span></code> rule), while there is also a unary (<code class="docutils literal notranslate"><span class="pre">&lt;U&gt;</span></code>) type-changing rule, from <code class="docutils literal notranslate"><span class="pre">s/n</span></code> to <code class="docutils literal notranslate"><span class="pre">n\n</span></code>. CCG parsers use these features to avoid associate a single word with many different types, keeping in that way the size of the vocabulary relatively small. When this derivation is converted into a string diagram, it takes the following form:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>lambeq<span class="w"> </span>-t<span class="w"> </span><span class="s2">&quot;The best movie I&#39;ve ever seen&quot;</span>

<span class="go"> The    best  movie  I      &#39;ve            ever           seen</span>
<span class="go"> ─────  ─────  ─────  ─  ───────────  ───────────────  ─────────</span>
<span class="go"> n·n.l  n·n.l    n    n  n.r·s·s.l·n  s.r·n.r.r·n.r·n  n.r·s·n.r</span>
<span class="go"> │  ╰───╯  ╰─────╯    │   │  │  │  ╰─╮─╯    │    │  │   │  │  │</span>
<span class="go"> │                    │   │  │  │  ╭─╰─╮    │    │  │   │  │  │</span>
<span class="go"> │                    │   │  │  ╰╮─╯   ╰─╮──╯    │  │   │  │  │</span>
<span class="go"> │                    │   │  │  ╭╰─╮   ╭─╰──╮    │  │   │  │  │</span>
<span class="go"> │                    │   │  ╰──╯  ╰─╮─╯    ╰─╮──╯  │   │  │  │</span>
<span class="go"> │                    │   │        ╭─╰─╮    ╭─╰──╮  │   │  │  │</span>
<span class="go"> │                    │   ╰────────╯   ╰─╮──╯    ╰╮─╯   │  │  │</span>
<span class="go"> │                    │                ╭─╰──╮    ╭╰─╮   │  │  │</span>
<span class="go"> │                    ╰────────────────╯    ╰─╮──╯  ╰───╯  │  │</span>
<span class="go"> │                                          ╭─╰──╮         │  │</span>
<span class="go"> │                                          │    ╰─────────╯  │</span>
<span class="go"> │                                          ╰────────╮────────╯</span>
<span class="go"> │                                          ╭────────╰────────╮</span>
<span class="go"> ╰──────────────────────────────────────────╯                 │</span>
</pre></div>
</div>
<p>Even for relativery short sentences like the above, the swaps may result in diagrams that are difficult to read and follow. In cases where diagrammatic clarity and conformance to a strict pregroup form is important, one can use <code class="docutils literal notranslate"><span class="pre">pregroups</span></code> mode:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>lambeq<span class="w"> </span>-t<span class="w"> </span>-m<span class="w"> </span>pregroups<span class="w"> </span><span class="s2">&quot;The best movie I&#39;ve ever seen&quot;</span>

<span class="go"> The    best  movie  I     &#39;ve ever      seen</span>
<span class="go">─────  ─────  ─────  ─  ─────────────  ───────</span>
<span class="go">n·n.l  n·n.l    n    n  n.r·n.r·s.l·n  n.r·s·n</span>
<span class="go">│  ╰───╯  ╰─────╯    ╰───╯   │   │  ╰───╯  │ │</span>
<span class="go">╰────────────────────────────╯   ╰─────────╯ │</span>
</pre></div>
</div>
<p>Note that the order of the types in the new diagram has been changed in a way that does not require swaps, while the two words “‘ve” and “ever”, which in the original derivation were interwoven using swaps (result of cross-composition), now have been merged into a single token.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <code class="docutils literal notranslate"><span class="pre">pregroups</span></code> mode trades off diagrammatic simplicity and conformance to a formal pregroup grammar for a larger vocabulary, since each word is associated with more types than before and new words (combined tokens) are added to the vocabulary. Depending on the size of your dataset, this might lead to data sparsity problems during training.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To convert a string diagram into a strict pregroup diagram programmatically, one can use the <a class="reference internal" href="lambeq.rewrite.html#lambeq.rewrite.RemoveSwapsRewriter" title="lambeq.rewrite.RemoveSwapsRewriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RemoveSwapsRewriter</span></code></a> class.</p>
</div>
</section>
<section id="using-a-reader">
<h2>Using a reader<a class="headerlink" href="#using-a-reader" title="Permalink to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Option only applicable to string and pregroup diagrams.</p>
</div>
<p>Instead of the parser, users may prefer to apply one of the available <a class="reference internal" href="glossary.html#term-reader"><span class="xref std std-term">readers</span></a>, each corresponding to a different <a class="reference internal" href="glossary.html#term-compositional-model"><span class="xref std std-term">compositional scheme</span></a>. For example, to encode a sentence as a <a class="reference internal" href="glossary.html#term-tensor-train"><span class="xref std std-term">tensor train</span></a>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>lambeq<span class="w"> </span>-r<span class="w"> </span>cups<span class="w"> </span><span class="s2">&quot;John gave Mary a flower&quot;</span>

<span class="go">START   John   gave   Mary    a    flower</span>
<span class="go">─────  ─────  ─────  ─────  ─────  ──────</span>
<span class="go">  s    s.r·s  s.r·s  s.r·s  s.r·s  s.r·s</span>
<span class="go">  ╰─────╯  ╰───╯  ╰───╯  ╰───╯  ╰───╯  │</span>
</pre></div>
</div>
<p>Readers can be used for batch processing of entire files with the <code class="docutils literal notranslate"><span class="pre">-i</span></code> option, exactly as in the parser case.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>lambeq<span class="w"> </span>-r<span class="w"> </span>cups<span class="w"> </span>-i<span class="w"> </span>sentences.txt<span class="w"> </span>-o<span class="w"> </span>diagrams.txt
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some readers, such as the <code class="xref py py-obj docutils literal notranslate"><span class="pre">spiders_reader</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">stairs_reader</span></code> instances of the <a class="reference internal" href="lambeq.text2diagram.html#lambeq.text2diagram.LinearReader" title="lambeq.text2diagram.LinearReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearReader</span></code></a> class, or an instance of a <a class="reference internal" href="lambeq.text2diagram.html#lambeq.text2diagram.TreeReader" title="lambeq.text2diagram.TreeReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">TreeReader</span></code></a>, may convert the pregroup diagram into a monoidal form that is too complicated to be rendered properly in a text console. In these cases, diagrams cannot be displayed as text.</p>
</div>
</section>
<section id="rewrite-rules-and-ansatze">
<h2>Rewrite rules and ansätze<a class="headerlink" href="#rewrite-rules-and-ansatze" title="Permalink to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Option only applicable to string and pregroup diagrams.</p>
</div>
<p>The command-line interface supports all stages of the <code class="docutils literal notranslate"><span class="pre">lambeq</span></code> <a class="reference internal" href="pipeline.html#sec-pipeline"><span class="std std-ref">pipeline</span></a>, such as application of <a class="reference internal" href="glossary.html#term-rewrite-rule"><span class="xref std std-term">rewrite rules</span></a> and use of <a class="reference internal" href="glossary.html#term-ansatz-plural-ansatze"><span class="xref std std-term">ansätze</span></a> for converting the sentences into <a class="reference internal" href="glossary.html#term-quantum-circuit"><span class="xref std std-term">quantum circuits</span></a> or <a class="reference internal" href="glossary.html#term-tensor-network"><span class="xref std std-term">tensor networks</span></a>. For example, to read a file of sentences, parse them, apply the <code class="docutils literal notranslate"><span class="pre">prepositional_phrase</span></code> and <code class="docutils literal notranslate"><span class="pre">determiner</span></code> <a class="reference internal" href="glossary.html#term-rewrite-rule"><span class="xref std std-term">rewrite rules</span></a>, and use an <a class="reference internal" href="lambeq.ansatz.html#lambeq.ansatz.IQPAnsatz" title="lambeq.ansatz.IQPAnsatz"><code class="xref py py-class docutils literal notranslate"><span class="pre">IQPAnsatz</span></code></a> with 1 <a class="reference internal" href="glossary.html#term-qubit"><span class="xref std std-term">qubit</span></a> assigned to sentence type, 1 <a class="reference internal" href="glossary.html#term-qubit"><span class="xref std std-term">qubit</span></a> to noun type, and 2 IQP layers, use the command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>lambeq<span class="w"> </span>-i<span class="w"> </span>sentences.txt<span class="w"> </span>-t<span class="w"> </span>-f<span class="w"> </span>image<span class="w"> </span>-g<span class="w"> </span>png
<span class="go">&gt;        -w prepositional_phrase determiner</span>
<span class="go">&gt;        -a iqp -n dim_n=1 dim_s=1 n_layers=2</span>
<span class="go">&gt;        -d image_folder</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since <a class="reference internal" href="glossary.html#term-rewrite-rule"><span class="xref std std-term">rewrite rules</span></a> and <a class="reference internal" href="glossary.html#term-ansatz-plural-ansatze"><span class="xref std std-term">ansätze</span></a> can produce output that is too complicated to be properly rendered in purely text form, text output in the console is not available for these cases.</p>
</div>
<p>For the classical case, applying a <a class="reference internal" href="lambeq.ansatz.html#lambeq.ansatz.SpiderAnsatz" title="lambeq.ansatz.SpiderAnsatz"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpiderAnsatz</span></code></a> with 2 dimensions assigned to sentence type and 4 dimensions to noun type, and the same rewrite rules as above, can be done with the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>lambeq<span class="w"> </span>-i<span class="w"> </span>sentences.txt<span class="w"> </span>-t<span class="w"> </span>-f<span class="w"> </span>image<span class="w"> </span>-g<span class="w"> </span>png
<span class="go">&gt;         -w prepositional_phrase determiner</span>
<span class="go">&gt;         -a spider -n dim_n=4 dim_s=2</span>
<span class="go">&gt;         -d image_folder</span>
</pre></div>
</div>
</section>
<section id="other-options">
<h2>Other options<a class="headerlink" href="#other-options" title="Permalink to this heading">¶</a></h2>
<p>To store the <a class="reference internal" href="lambeq.backend.html#lambeq.backend.grammar.Diagram" title="lambeq.backend.grammar.Diagram"><code class="xref py py-class docutils literal notranslate"><span class="pre">lambeq.backend.grammar.Diagram</span></code></a> (for string diagrams) or the <a class="reference internal" href="lambeq.text2diagram.html#lambeq.text2diagram.CCGTree" title="lambeq.text2diagram.CCGTree"><code class="xref py py-class docutils literal notranslate"><span class="pre">CCGTree</span></code></a> objects (for the CCG trees) in <code class="docutils literal notranslate"><span class="pre">json</span></code> or <code class="docutils literal notranslate"><span class="pre">pickle</span></code> format, type:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>lambeq<span class="w"> </span>-f<span class="w"> </span>pickle<span class="w"> </span>-i<span class="w"> </span>sentences.txt<span class="w"> </span>-o<span class="w"> </span>diagrams.pickle
</pre></div>
</div>
<p>or</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>lambeq<span class="w"> </span>-f<span class="w"> </span>json<span class="w"> </span>-i<span class="w"> </span>sentences.txt<span class="w"> </span>-o<span class="w"> </span>diagrams.json
</pre></div>
</div>
<p>Text output is also available with ascii-only characters:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>lambeq<span class="w"> </span>-f<span class="w"> </span>text-ascii<span class="w"> </span><span class="s2">&quot;John gave Mary a flower.&quot;</span>

<span class="go"> John       gave      Mary    a    flower.</span>
<span class="go"> ____  _____________  ____  _____  _______</span>
<span class="go">  n    n.r s n.l n.l   n    n n.l     n</span>
<span class="go">  \_____/  |  |   \____/    |  \______/</span>
<span class="go">           |  \_____________/</span>
</pre></div>
</div>
<p>To avoid repeated long commands, arguments can be stored into a YAML file <code class="docutils literal notranslate"><span class="pre">conf.yaml</span></code> by adding an argument <code class="docutils literal notranslate"><span class="pre">-y</span> <span class="pre">conf.yaml</span></code>.
To load the configuration from this file next time, <code class="docutils literal notranslate"><span class="pre">-l</span> <span class="pre">conf.yaml</span></code> can be added. Any arguments that were not provided in the command line will be taken from that file. If an argument is specified both in the command line and in the configuration file, the command-line argument takes priority.</p>
</section>
<section id="detailed-options">
<span id="sec-detailed-options"></span><h2>Detailed options<a class="headerlink" href="#detailed-options" title="Permalink to this heading">¶</a></h2>
<p><p>Command-line interface for lambeq.</p>
</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>usage:<span class="w"> </span>lambeq<span class="w"> </span><span class="o">[</span>-h<span class="o">]</span><span class="w"> </span><span class="o">[</span>-v<span class="o">]</span><span class="w"> </span><span class="o">[</span>-m<span class="w"> </span><span class="o">{</span>string-diagram,pregroups,ccg<span class="o">}]</span><span class="w"> </span><span class="o">[</span>-i<span class="w"> </span>INPUT_FILE<span class="o">]</span>
<span class="w">              </span><span class="o">[</span>-f<span class="w"> </span><span class="o">{</span>json,pickle,text-unicode,text-ascii,image<span class="o">}]</span>
<span class="w">              </span><span class="o">[</span>-g<span class="w"> </span><span class="o">{</span>png,pdf,jpeg,jpg,eps,pgf,ps,raw,rgba,svg,svgz,tif,tiff<span class="o">}]</span>
<span class="w">              </span><span class="o">[</span>-u<span class="w"> </span><span class="o">[</span><span class="nv">KEY</span><span class="o">=</span>VAR<span class="w"> </span>...<span class="o">]]</span><span class="w"> </span><span class="o">[</span>-o<span class="w"> </span>OUTPUT_FILE<span class="w"> </span><span class="p">|</span><span class="w"> </span>-d<span class="w"> </span>OUTPUT_DIR<span class="o">]</span>
<span class="w">              </span><span class="o">[</span>-p<span class="w"> </span><span class="o">{</span>bobcat,depccg<span class="o">}]</span><span class="w"> </span><span class="o">[</span>-t<span class="o">]</span><span class="w"> </span><span class="o">[</span>-s<span class="o">]</span><span class="w"> </span><span class="o">[</span>-r<span class="w"> </span><span class="o">{</span>spiders,stairs,cups,tree<span class="o">}]</span>
<span class="w">              </span><span class="o">[</span>-c<span class="w"> </span><span class="o">[</span>ROOT_CAT<span class="w"> </span>...<span class="o">]]</span><span class="w"> </span><span class="o">[</span>-w<span class="w"> </span><span class="o">[</span>REWRITE_RULE<span class="w"> </span>...<span class="o">]]</span>
<span class="w">              </span><span class="o">[</span>-a<span class="w"> </span><span class="o">{</span>iqp,tensor,spider,mps<span class="o">}]</span><span class="w"> </span><span class="o">[</span>-n<span class="w"> </span><span class="o">[</span><span class="nv">KEY</span><span class="o">=</span>VAR<span class="w"> </span>...<span class="o">]]</span><span class="w"> </span><span class="o">[</span>-y<span class="w"> </span>STORE_ARGS<span class="o">]</span>
<span class="w">              </span><span class="o">[</span>-l<span class="w"> </span>LOAD_ARGS<span class="o">]</span>
<span class="w">              </span><span class="o">[</span>input_sentence<span class="o">]</span>
</pre></div>
</div>
<section id="positional-arguments">
<h3>Positional Arguments<a class="headerlink" href="#positional-arguments" title="Permalink to this heading">¶</a></h3>
<dl class="option-list">
<dt><kbd>input_sentence</kbd></dt>
<dd><p>Sentence to parse.</p>
<p>Default: “”</p>
</dd>
</dl>
</section>
<section id="named-arguments">
<h3>Named Arguments<a class="headerlink" href="#named-arguments" title="Permalink to this heading">¶</a></h3>
<dl class="option-list">
<dt><kbd>-v, --version</kbd></dt>
<dd><p>show program’s version number and exit</p>
</dd>
<dt><kbd>-m, --mode</kbd></dt>
<dd><p>Possible choices: string-diagram, pregroups, ccg</p>
<p>Mode used for the output. Default value: string-diagram</p>
<p>Default: “string-diagram”</p>
</dd>
<dt><kbd>-i, --input_file</kbd></dt>
<dd><p>File to parse.</p>
</dd>
</dl>
</section>
<section id="output">
<h3>Output<a class="headerlink" href="#output" title="Permalink to this heading">¶</a></h3>
<p>Options related to output format.</p>
<dl class="option-list">
<dt><kbd>-f, --output_format</kbd></dt>
<dd><p>Possible choices: json, pickle, text-unicode, text-ascii, image</p>
<p>Format of the output. Use <cite>json</cite> and <cite>pickle</cite> to store the lambeq objects in the respective formats, or <cite>text-unicode</cite>, <cite>text-ascii</cite> and <cite>image</cite> to store directly the derivations in diagrammatic form. Default value: text-unicode</p>
</dd>
<dt><kbd>-g, --image_format</kbd></dt>
<dd><p>Possible choices: png, pdf, jpeg, jpg, eps, pgf, ps, raw, rgba, svg, svgz, tif, tiff</p>
<p>When <cite>image</cite> is selected as <cite>output_format</cite>, this option specifies the required image type. It does not have any effect when any other option is selected as <cite>output_format</cite>. Default value: png</p>
</dd>
<dt><kbd>-u, --output_options</kbd></dt>
<dd><p>Possible choices: fig_width=&lt;int&gt; (default: None), fig_height=&lt;int&gt; (default: None), fontsize=&lt;int&gt; (default: None)</p>
<p>A list of <cite>keyword=value</cite> items that define options for the output format. Available options are fig_width=&lt;int&gt; (default: None), fig_height=&lt;int&gt; (default: None), fontsize=&lt;int&gt; (default: None).</p>
<p>Default: {}</p>
</dd>
<dt><kbd>-o, --output_file</kbd></dt>
<dd><p>File to write the output. When <cite>output_format</cite> is <cite>json</cite>, <cite>text-ascii</cite>, or <cite>text-unicode</cite> and this argument is not provided, lambeq will output to <cite>stdout</cite>. This argument is ignored when <cite>output_format</cite> is <cite>image</cite>, in which case <cite>output_dir</cite> needs to be provided.</p>
</dd>
<dt><kbd>-d, --output_dir</kbd></dt>
<dd><p>When <cite>image</cite> is selected as <cite>output_format</cite>, this option specifies the directory where the image files would be stored. It does not have effect when any other option is selected as <cite>output_format</cite>.</p>
</dd>
</dl>
</section>
<section id="parser">
<h3>Parser<a class="headerlink" href="#parser" title="Permalink to this heading">¶</a></h3>
<p>Options related to parser.</p>
<dl class="option-list">
<dt><kbd>-p, --parser</kbd></dt>
<dd><p>Possible choices: bobcat, depccg</p>
<p>Choice of a parser. Mutually exclussive with using a reader. If <cite>None</cite>, BobcatParser is used.</p>
</dd>
<dt><kbd>-t, --tokenise</kbd></dt>
<dd><p>Tokenises the input before sending to parser. If not used, the parser assumes that text is already tokenised.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-s, --split_sentences</kbd></dt>
<dd><p>Use SpaCy sentence splitting to split the text into sentences. Not required if only one sentence is provided or if sentences are already given one per line.</p>
<p>Default: False</p>
</dd>
<dt><kbd>-r, --reader</kbd></dt>
<dd><p>Possible choices: spiders, stairs, cups, tree</p>
<p>Choice of a reader. Mutually exclusive with using a parser.</p>
</dd>
<dt><kbd>-c, --root_categories</kbd></dt>
<dd><p>A list of acceptable categories at the root of the diagram.</p>
</dd>
</dl>
</section>
<section id="rewriter">
<h3>Rewriter<a class="headerlink" href="#rewriter" title="Permalink to this heading">¶</a></h3>
<p>Rewrite options.</p>
<dl class="option-list">
<dt><kbd>-w, --rewrite_rules</kbd></dt>
<dd><p>Possible choices: auxiliary, connector, determiner, postadverb, preadverb, prepositional_phrase, coordination, curry, object_rel_pronoun, subject_rel_pronoun</p>
<p>A list of rewrite rules. Available options: [‘auxiliary’, ‘connector’, ‘determiner’, ‘postadverb’, ‘preadverb’, ‘prepositional_phrase’, ‘coordination’, ‘curry’, ‘object_rel_pronoun’, ‘subject_rel_pronoun’]</p>
</dd>
</dl>
</section>
<section id="ansätze">
<h3>Ansätze<a class="headerlink" href="#ansätze" title="Permalink to this heading">¶</a></h3>
<p>Options related to ansatz choices.</p>
<dl class="option-list">
<dt><kbd>-a, --ansatz</kbd></dt>
<dd><p>Possible choices: iqp, tensor, spider, mps</p>
<p>Ansatz to be used. This determines if the result will be a quantum circuit or a tensor network.</p>
</dd>
<dt><kbd>-n, --ansatz_options</kbd></dt>
<dd><p>Possible choices: dim_n=&lt;int&gt; (default: 2), dim_s=&lt;int&gt; (default: 2), n_layers=&lt;int&gt; (default: 2), n_single_qubit_params=&lt;int&gt; (default: 3), bond_dim=&lt;int&gt; (default: 3), max_order=&lt;int&gt; (default: 3)</p>
<p>A list of <cite>keyword=value</cite> items that define options for the selected ansatz. Available options are dim_n=&lt;int&gt; (default: 2), dim_s=&lt;int&gt; (default: 2), n_layers=&lt;int&gt; (default: 2), n_single_qubit_params=&lt;int&gt; (default: 3), bond_dim=&lt;int&gt; (default: 3), max_order=&lt;int&gt; (default: 3).</p>
<p>Default: {}</p>
</dd>
</dl>
</section>
<section id="configuration">
<h3>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading">¶</a></h3>
<p>Options for storing and loading the command-line arguments to/from files.</p>
<dl class="option-list">
<dt><kbd>-y, --store_args</kbd></dt>
<dd><p>File to store the parameters in YAML format for future use.</p>
</dd>
<dt><kbd>-l, --load_args</kbd></dt>
<dd><p>Load and use a set of stored parameters from the specified file.</p>
</dd>
</dl>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="glossary.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Glossary</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="uml-diagrams.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Class diagrams</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2021-2024 Cambridge Quantum Computing Ltd.
            </div>
            <div class="terms" style="display:flex; gap:0.5rem; align-items:center; margin: 0.25rem 0rem;">
              <a href="https://www.quantinuum.com/privacy-statement" target="_blank">Privacy Statement</a>
              <div role="separator">/</div>
              <a href="https://www.quantinuum.com/cookie-notice" target="_blank">Cookie Notice</a>
              <div role="separator">/</div>
              <a href="https://www.quantinuum.com/terms-conditions" target="_blank">Terms and Conditions</a>
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Command-line interface</a><ul>
<li><a class="reference internal" href="#basic-usage">Basic usage</a></li>
<li><a class="reference internal" href="#strict-pregroups-mode">Strict pregroups mode</a></li>
<li><a class="reference internal" href="#using-a-reader">Using a reader</a></li>
<li><a class="reference internal" href="#rewrite-rules-and-ansatze">Rewrite rules and ansätze</a></li>
<li><a class="reference internal" href="#other-options">Other options</a></li>
<li><a class="reference internal" href="#detailed-options">Detailed options</a><ul>
<li><a class="reference internal" href="#positional-arguments">Positional Arguments</a></li>
<li><a class="reference internal" href="#named-arguments">Named Arguments</a></li>
<li><a class="reference internal" href="#output">Output</a></li>
<li><a class="reference internal" href="#parser">Parser</a></li>
<li><a class="reference internal" href="#rewriter">Rewriter</a></li>
<li><a class="reference internal" href="#ansätze">Ansätze</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div>
<script>document.body.setAttribute("data-theme", "light")</script><script src="_static/jquery.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    </body>
</html>